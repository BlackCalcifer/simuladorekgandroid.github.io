<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Acceso Offline</title>
  <style>
    body { font-family: sans-serif; background:#000; color:#fff; display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; }
    h2 { color:#0f0; margin-bottom: 10px;}
    input { width:90%; padding:8px; margin:5px 0; font-size:1em;}
    button { padding:6px 12px; margin-top:10px; cursor:pointer; font-size:1em; }
    .info { margin-top:10px; font-size:0.9em; color:#ccc; }
  </style>
</head>
<body>
  <h2>Acceso Offline</h2>
  <p>Ingrese la contrase√±a local:</p>
  <input type="password" id="pass">
  <button id="btn">Aceptar</button>
  <div class="info" id="info">Usos restantes: 3</div>

  <script>
    const { ipcRenderer } = require('electron');
    const passInput = document.getElementById('pass');
    const btn = document.getElementById('btn');
    const info = document.getElementById('info');

    ipcRenderer.on('actualizar-usos', (event, data) => {
      const restantes = data.maxUsos - data.usos;
      info.textContent = `Usos restantes: ${restantes}`;
    });

    btn.addEventListener('click', () => {
      ipcRenderer.send('contrasena-introducida', passInput.value);
    });

    passInput.addEventListener('keyup', (e) => { if(e.key === 'Enter') btn.click(); });
  </script>
</body>
</html>
